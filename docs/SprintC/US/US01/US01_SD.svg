<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" height="1680px" preserveAspectRatio="none" style="width:2871px;height:1680px;background:#FFFFFF;" version="1.1" viewBox="0 0 2871 1680" width="2871px" zoomAndPan="magnify"><defs/><g><rect height="47.7344" style="stroke:#00000000;stroke-width:1.0;fill:none;" width="746" x="1063.5" y="10"/><text fill="#000000" font-family="sans-serif" font-size="30" font-weight="bold" lengthAdjust="spacing" textLength="736" x="1068.5" y="46.1426">SD: Process of scheduling a vaccine by a SNS User</text><rect fill="#FFFFFF" height="1513.4531" style="stroke:#181818;stroke-width:1.0;" width="10" x="48" y="151.3438"/><rect fill="#FFFFFF" height="46.7031" style="stroke:#181818;stroke-width:1.0;" width="10" x="406" y="173.6953"/><rect fill="#FFFFFF" height="899.3438" style="stroke:#181818;stroke-width:1.0;" width="10" x="406" y="250.75"/><rect fill="#FFFFFF" height="459" style="stroke:#181818;stroke-width:1.0;" width="10" x="406" y="1205.7969"/><rect fill="#FFFFFF" height="120.7031" style="stroke:#181818;stroke-width:1.0;" width="10" x="913" y="281.1016"/><rect fill="#FFFFFF" height="30" style="stroke:#181818;stroke-width:1.0;" width="10" x="913" y="432.1563"/><rect fill="#FFFFFF" height="120.7031" style="stroke:#181818;stroke-width:1.0;" width="10" x="913" y="554.0469"/><rect fill="#FFFFFF" height="285.3672" style="stroke:#181818;stroke-width:1.0;" width="10" x="913" y="834.375"/><rect fill="#FFFFFF" height="311.1094" style="stroke:#181818;stroke-width:1.0;" width="10" x="913" y="1236.1484"/><rect fill="#FFFFFF" height="30" style="stroke:#181818;stroke-width:1.0;" width="10" x="1265" y="311.4531"/><rect fill="#FFFFFF" height="30" style="stroke:#181818;stroke-width:1.0;" width="10" x="1265" y="584.3984"/><rect fill="#FFFFFF" height="30" style="stroke:#181818;stroke-width:1.0;" width="10" x="1408.5" y="371.8047"/><rect fill="#FFFFFF" height="30" style="stroke:#181818;stroke-width:1.0;" width="10" x="1567.5" y="644.75"/><rect fill="#FFFFFF" height="122.0547" style="stroke:#181818;stroke-width:1.0;" width="10" x="1793" y="864.7266"/><rect fill="#FFFFFF" height="30" style="stroke:#181818;stroke-width:1.0;" width="10" x="1793" y="1029.3906"/><rect fill="#FFFFFF" height="30" style="stroke:#181818;stroke-width:1.0;" width="10" x="1793" y="1089.7422"/><rect fill="#FFFFFF" height="213.0547" style="stroke:#181818;stroke-width:1.0;" width="10" x="1793" y="1266.5"/><rect fill="#E6E6FA" height="28" style="stroke:#181818;stroke-width:1.0;" width="10" x="1798" y="1304.8516"/><rect fill="#E6E6FA" height="28" style="stroke:#181818;stroke-width:1.0;" width="10" x="1798" y="1378.2031"/><rect fill="#E6E6FA" height="28" style="stroke:#181818;stroke-width:1.0;" width="10" x="1798" y="1451.5547"/><rect fill="#FFFFFF" height="91.7031" style="stroke:#181818;stroke-width:1.0;" width="10" x="2174" y="895.0781"/><rect fill="#FFFFFF" height="147.8906" style="stroke:#181818;stroke-width:1.0;" width="10" x="2781" y="1516.9063"/><rect height="491.7031" style="stroke:#000000;stroke-width:1.5;fill:none;" width="2854" x="10" y="1165.0938"/><line style="stroke:#181818;stroke-width:0.5;fill:none;stroke-dasharray:5.0,5.0;" x1="53" x2="53" y1="141.3438" y2="1673.7969"/><line style="stroke:#181818;stroke-width:0.5;fill:none;stroke-dasharray:5.0,5.0;" x1="411" x2="411" y1="141.3438" y2="1673.7969"/><line style="stroke:#181818;stroke-width:0.5;fill:none;stroke-dasharray:5.0,5.0;" x1="591" x2="591" y1="722.8594" y2="1673.7969"/><line style="stroke:#181818;stroke-width:0.5;fill:none;stroke-dasharray:5.0,5.0;" x1="918" x2="918" y1="141.3438" y2="1673.7969"/><line style="stroke:#181818;stroke-width:0.5;fill:none;stroke-dasharray:5.0,5.0;" x1="1269.5" x2="1269.5" y1="141.3438" y2="1673.7969"/><line style="stroke:#181818;stroke-width:0.5;fill:none;stroke-dasharray:5.0,5.0;" x1="1413.5" x2="1413.5" y1="141.3438" y2="1673.7969"/><line style="stroke:#181818;stroke-width:0.5;fill:none;stroke-dasharray:5.0,5.0;" x1="1572.5" x2="1572.5" y1="141.3438" y2="1673.7969"/><line style="stroke:#181818;stroke-width:0.5;fill:none;stroke-dasharray:5.0,5.0;" x1="1798" x2="1798" y1="141.3438" y2="1673.7969"/><line style="stroke:#181818;stroke-width:0.5;fill:none;stroke-dasharray:5.0,5.0;" x1="2179" x2="2179" y1="141.3438" y2="1673.7969"/><line style="stroke:#181818;stroke-width:0.5;fill:none;stroke-dasharray:5.0,5.0;" x1="2633" x2="2633" y1="995.7344" y2="1673.7969"/><line style="stroke:#181818;stroke-width:0.5;fill:none;stroke-dasharray:5.0,5.0;" x1="2786" x2="2786" y1="141.3438" y2="1673.7969"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="60" x="20" y="138.2676">SNS User</text><ellipse cx="53" cy="72.2344" fill="#A9DCDF" rx="8" ry="8" style="stroke:#181818;stroke-width:0.5;"/><path d="M53,80.2344 L53,107.2344 M40,88.2344 L66,88.2344 M53,107.2344 L40,122.2344 M53,107.2344 L66,122.2344 " fill="none" style="stroke:#181818;stroke-width:0.5;"/><rect fill="#A9DCDF" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="162" x="330" y="108.7344"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="148" x="337" y="130.2676">:VaccinationScheduleUI</text><rect fill="#A9DCDF" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="212" x="812" y="108.7344"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="198" x="819" y="130.2676">:VaccinationScheduleController</text><rect fill="#A9DCDF" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="135" x="1202.5" y="108.7344"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="121" x="1209.5" y="130.2676">company:Company</text><rect fill="#A9DCDF" height="49.2188" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="132" x="1347.5" y="91.125"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="118" x="1354.5" y="112.6582">vaccineTypeStore:</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="116" x="1355.5" y="130.2676">VaccineTypeStore</text><rect fill="#A9DCDF" height="49.2188" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="166" x="1489.5" y="91.125"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="152" x="1496.5" y="112.6582">vaccinationCenterStore:</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="150" x="1497.5" y="130.2676">VaccinationCenterStore</text><rect fill="#A9DCDF" height="49.2188" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="182" x="1707" y="91.125"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="168" x="1714" y="112.6582">vaccinationScheduleStore:</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="166" x="1715" y="130.2676">VaccinationScheduleStore</text><rect fill="#A9DCDF" height="49.2188" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="196" x="2081" y="91.125"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="182" x="2088" y="112.6582">vaccinationScheduleMapper:</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="180" x="2089" y="130.2676">VaccinationScheduleMapper</text><rect fill="#A9DCDF" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="136" x="2718" y="108.7344"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="122" x="2725" y="130.2676">:NotificationHandler</text><rect fill="#FFFFFF" height="1513.4531" style="stroke:#181818;stroke-width:1.0;" width="10" x="48" y="151.3438"/><rect fill="#FFFFFF" height="46.7031" style="stroke:#181818;stroke-width:1.0;" width="10" x="406" y="173.6953"/><rect fill="#FFFFFF" height="899.3438" style="stroke:#181818;stroke-width:1.0;" width="10" x="406" y="250.75"/><rect fill="#FFFFFF" height="459" style="stroke:#181818;stroke-width:1.0;" width="10" x="406" y="1205.7969"/><rect fill="#FFFFFF" height="120.7031" style="stroke:#181818;stroke-width:1.0;" width="10" x="913" y="281.1016"/><rect fill="#FFFFFF" height="30" style="stroke:#181818;stroke-width:1.0;" width="10" x="913" y="432.1563"/><rect fill="#FFFFFF" height="120.7031" style="stroke:#181818;stroke-width:1.0;" width="10" x="913" y="554.0469"/><rect fill="#FFFFFF" height="285.3672" style="stroke:#181818;stroke-width:1.0;" width="10" x="913" y="834.375"/><rect fill="#FFFFFF" height="311.1094" style="stroke:#181818;stroke-width:1.0;" width="10" x="913" y="1236.1484"/><rect fill="#FFFFFF" height="30" style="stroke:#181818;stroke-width:1.0;" width="10" x="1265" y="311.4531"/><rect fill="#FFFFFF" height="30" style="stroke:#181818;stroke-width:1.0;" width="10" x="1265" y="584.3984"/><rect fill="#FFFFFF" height="30" style="stroke:#181818;stroke-width:1.0;" width="10" x="1408.5" y="371.8047"/><rect fill="#FFFFFF" height="30" style="stroke:#181818;stroke-width:1.0;" width="10" x="1567.5" y="644.75"/><rect fill="#FFFFFF" height="122.0547" style="stroke:#181818;stroke-width:1.0;" width="10" x="1793" y="864.7266"/><rect fill="#FFFFFF" height="30" style="stroke:#181818;stroke-width:1.0;" width="10" x="1793" y="1029.3906"/><rect fill="#FFFFFF" height="30" style="stroke:#181818;stroke-width:1.0;" width="10" x="1793" y="1089.7422"/><rect fill="#FFFFFF" height="213.0547" style="stroke:#181818;stroke-width:1.0;" width="10" x="1793" y="1266.5"/><rect fill="#E6E6FA" height="28" style="stroke:#181818;stroke-width:1.0;" width="10" x="1798" y="1304.8516"/><rect fill="#E6E6FA" height="28" style="stroke:#181818;stroke-width:1.0;" width="10" x="1798" y="1378.2031"/><rect fill="#E6E6FA" height="28" style="stroke:#181818;stroke-width:1.0;" width="10" x="1798" y="1451.5547"/><rect fill="#FFFFFF" height="91.7031" style="stroke:#181818;stroke-width:1.0;" width="10" x="2174" y="895.0781"/><rect fill="#FFFFFF" height="147.8906" style="stroke:#181818;stroke-width:1.0;" width="10" x="2781" y="1516.9063"/><polygon fill="#181818" points="394,169.6953,404,173.6953,394,177.6953,398,173.6953" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="58" x2="400" y1="173.6953" y2="173.6953"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="65" y="168.8389">1</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="195" x="76" y="168.8389">starts a new vaccination schedule</text><polygon fill="#181818" points="69,216.3984,59,220.3984,69,224.3984,65,220.3984" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="63" x2="410" y1="220.3984" y2="220.3984"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="75" y="207.3662">2</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="145" x="86" y="199.1904">requests data (date/time,</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="181" x="86" y="215.542">vaccineType,vaccinationCenter)</text><polygon fill="#181818" points="394,246.75,404,250.75,394,254.75,398,250.75" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="58" x2="400" y1="250.75" y2="250.75"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="65" y="245.8936">3</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="200" x="76" y="245.8936">chooses and types requested data</text><polygon fill="#181818" points="901,277.1016,911,281.1016,901,285.1016,905,281.1016" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="416" x2="907" y1="281.1016" y2="281.1016"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="423" y="276.2451">4</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="217" x="434" y="276.2451">vaccineTypes = getAllVaccineTypes()</text><polygon fill="#181818" points="1253,307.4531,1263,311.4531,1253,315.4531,1257,311.4531" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="923" x2="1259" y1="311.4531" y2="311.4531"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="930" y="306.5967">5</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="250" x="941" y="306.5967">vaccineTypeStore = getVaccineTypeStore()</text><polygon fill="#181818" points="1396.5,367.8047,1406.5,371.8047,1396.5,375.8047,1400.5,371.8047" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="923" x2="1402.5" y1="371.8047" y2="371.8047"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="930" y="366.9482">6</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="236" x="941" y="366.9482">vaccineTypes = getAllVaccineTypeDTO()</text><polygon fill="#181818" points="901,428.1563,911,432.1563,901,436.1563,905,432.1563" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="416" x2="907" y1="432.1563" y2="432.1563"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="423" y="427.2998">7</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="223" x="434" y="427.2998">snsUser = getSnsUserDTOInSession()</text><rect fill="#FFFFFF" height="56.5391" style="stroke:#000000;stroke-width:1.5;" width="306" x="809" y="470.1563"/><path d="M809,470.1563 L871,470.1563 L871,478.1563 L861,488.1563 L809,488.1563 L809,470.1563 " fill="#E6E6FA" style="stroke:#000000;stroke-width:2.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="17" x="822" y="485.6514">ref</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="295" x="813" y="504.6133">US01_SD_GET_SNSUSER_OF_USER_IN_SESSION</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="194" x="866.5" y="519.707">(Controller gets an SnsUser object)</text><polygon fill="#181818" points="901,550.0469,911,554.0469,901,558.0469,905,554.0469" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="416" x2="907" y1="554.0469" y2="554.0469"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="423" y="549.1904">8</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="467" x="434" y="549.1904">vaccinationCenters = getAllVaccinationCentersByVaccineType(vaccineTypeDTO)</text><polygon fill="#181818" points="1253,580.3984,1263,584.3984,1253,588.3984,1257,584.3984" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="923" x2="1259" y1="584.3984" y2="584.3984"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="930" y="579.542">9</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="312" x="941" y="579.542">vaccinationCenterStore = getVaccinationCenterStore()</text><polygon fill="#181818" points="1555.5,640.75,1565.5,644.75,1555.5,648.75,1559.5,644.75" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="923" x2="1561.5" y1="644.75" y2="644.75"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="930" y="639.8936">10</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="471" x="948" y="639.8936">vaccinationCenters = getAllVaccinationCentersByVaccineType(VaccineTypeDTO)</text><polygon fill="#181818" points="490,701.1016,500,705.1016,490,709.1016,494,705.1016" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="416" x2="496" y1="705.1016" y2="705.1016"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="423" y="700.2451">11</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="36" x="441" y="700.2451">create</text><rect fill="#A9DCDF" height="49.2188" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="178" x="502" y="682.75"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="164" x="509" y="704.2832">vaccinationScheduleDTO:</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="162" x="510" y="721.8926">VaccinationScheduleDTO</text><path d="M596,747.9688 L596,789.9688 L969,789.9688 L969,757.9688 L959,747.9688 L596,747.9688 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M959,747.9688 L959,757.9688 L969,757.9688 L959,747.9688 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" text-decoration="wavy underline" textLength="270" x="606" y="766.4639">"vaccinationScheduleDTO has all required data</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="348" x="606" y="782.8154">(snsUserDTO, date,vaccineTypeDTO,vaccinationCenterDTO)</text><polygon fill="#181818" points="901,830.375,911,834.375,901,838.375,905,834.375" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="416" x2="907" y1="834.375" y2="834.375"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="423" y="821.3428">12</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="192" x="441" y="813.167">vaccinationScheduleCanBeAdd =</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="310" x="441" y="829.5186">createVaccinationSchedule(vaccinationScheduleDTO)</text><polygon fill="#181818" points="1781,860.7266,1791,864.7266,1781,868.7266,1785,864.7266" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="923" x2="1787" y1="864.7266" y2="864.7266"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="930" y="859.8701">13</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="310" x="948" y="859.8701">createVaccinationSchedule(vaccinationScheduleDTO)</text><polygon fill="#181818" points="2162,891.0781,2172,895.0781,2162,899.0781,2166,895.0781" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="1803" x2="2168" y1="895.0781" y2="895.0781"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="1810" y="890.2217">14</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="128" x="1828" y="890.2217">toModel(snsUserDTO)</text><path d="M2037,933.0781 L2037,959.0781 L2321,959.0781 L2321,943.0781 L2311,933.0781 L2037,933.0781 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M2311,933.0781 L2311,943.0781 L2321,943.0781 L2311,933.0781 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" text-decoration="wavy underline" textLength="263" x="2043" y="951.5732">multiple interactions to extract data from DTO</text><polygon fill="#181818" points="2546,982.7813,2556,986.7813,2546,990.7813,2550,986.7813" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="2179" x2="2552" y1="986.7813" y2="986.7813"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="2186" y="981.9248">15</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="332" x="2204" y="981.9248">create(snsUser, date/time,vaccinetype,vaccinationCenter)</text><rect fill="#A9DCDF" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="150" x="2558" y="964.4297"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="136" x="2565" y="985.9629">:VaccinationSchedule</text><polygon fill="#181818" points="1781,1025.3906,1791,1029.3906,1781,1033.3906,1785,1029.3906" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="923" x2="1787" y1="1029.3906" y2="1029.3906"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="930" y="1024.5342">16</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="443" x="948" y="1024.5342">vaccinationSchedule = existsVaccinationSchedule(vaccinationScheduleDTO)</text><polygon fill="#181818" points="1781,1085.7422,1791,1089.7422,1781,1093.7422,1785,1089.7422" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="923" x2="1787" y1="1089.7422" y2="1089.7422"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="930" y="1084.8857">17</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="833" x="948" y="1084.8857">vaccinationScheduleTime = checkIfScheduleDateIsBetweenVaccinationCenterOpeningHours\(vaccinationScheduleDate,vaccinationCenterDTOID)</text><polygon fill="#181818" points="69,1146.0938,59,1150.0938,69,1154.0938,65,1150.0938" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="63" x2="410" y1="1150.0938" y2="1150.0938"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="75" y="1145.2373">18</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="236" x="93" y="1145.2373">shows all data and requests confirmation</text><path d="M10,1165.0938 L71,1165.0938 L71,1173.4453 L61,1183.4453 L10,1183.4453 L10,1165.0938 " fill="#E6E6FA" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="491.7031" style="stroke:#000000;stroke-width:1.5;" width="2854" x="10" y="1165.0938"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="16" x="25" y="1179.5889">alt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="98" x="86" y="1178.5127">[successful case]</text><polygon fill="#181818" points="394,1201.7969,404,1205.7969,394,1209.7969,398,1205.7969" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="58" x2="400" y1="1205.7969" y2="1205.7969"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="65" y="1200.9404">19</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="100" x="83" y="1200.9404">confirms the data</text><polygon fill="#181818" points="901,1232.1484,911,1236.1484,901,1240.1484,905,1236.1484" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="416" x2="907" y1="1236.1484" y2="1236.1484"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="423" y="1231.292">20</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="404" x="441" y="1231.292">vaccinationScheduleCreatedSuccessfully = addVaccinationSchedule()</text><polygon fill="#181818" points="1781,1262.5,1791,1266.5,1781,1270.5,1785,1266.5" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="923" x2="1787" y1="1266.5" y2="1266.5"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="930" y="1261.6436">21</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="509" x="948" y="1261.6436">addedVaccinationScheduleSucessfully = addVaccinationSchedule(vaccinationSchedule)</text><line style="stroke:#181818;stroke-width:1.0;" x1="1808" x2="1850" y1="1296.8516" y2="1296.8516"/><line style="stroke:#181818;stroke-width:1.0;" x1="1850" x2="1850" y1="1296.8516" y2="1309.8516"/><line style="stroke:#181818;stroke-width:1.0;" x1="1809" x2="1850" y1="1309.8516" y2="1309.8516"/><polygon fill="#181818" points="1819,1305.8516,1809,1309.8516,1819,1313.8516,1815,1309.8516" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="1815" y="1291.9951">22</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="157" x="1833" y="1291.9951">vaccinationSchedule != null</text><line style="stroke:#181818;stroke-width:1.0;" x1="1808" x2="1850" y1="1370.2031" y2="1370.2031"/><line style="stroke:#181818;stroke-width:1.0;" x1="1850" x2="1850" y1="1370.2031" y2="1383.2031"/><line style="stroke:#181818;stroke-width:1.0;" x1="1809" x2="1850" y1="1383.2031" y2="1383.2031"/><polygon fill="#181818" points="1819,1379.2031,1809,1383.2031,1819,1387.2031,1815,1383.2031" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="1815" y="1365.3467">23</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="339" x="1833" y="1365.3467">!existsVaccinationSchedule(snsNumber,vaccineTypeCode)</text><line style="stroke:#181818;stroke-width:1.0;" x1="1808" x2="1850" y1="1443.5547" y2="1443.5547"/><line style="stroke:#181818;stroke-width:1.0;" x1="1850" x2="1850" y1="1443.5547" y2="1456.5547"/><line style="stroke:#181818;stroke-width:1.0;" x1="1809" x2="1850" y1="1456.5547" y2="1456.5547"/><polygon fill="#181818" points="1819,1452.5547,1809,1456.5547,1819,1460.5547,1815,1456.5547" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="1815" y="1438.6982">24</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="147" x="1833" y="1438.6982">add(vaccinationSchedule)</text><polygon fill="#181818" points="2769,1512.9063,2779,1516.9063,2769,1520.9063,2773,1516.9063" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="923" x2="2775" y1="1516.9063" y2="1516.9063"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="930" y="1512.0498">25</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="206" x="948" y="1512.0498">sendSMS (phoneNumber,message)</text><polygon fill="#181818" points="427,1543.2578,417,1547.2578,427,1551.2578,423,1547.2578" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="421" x2="917" y1="1547.2578" y2="1547.2578"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="433" y="1542.4014">26</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="237" x="451" y="1542.4014">vaccinationScheduleCreatedSuccessfully</text><polygon fill="#181818" points="69,1573.6094,59,1577.6094,69,1581.6094,65,1577.6094" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="63" x2="405" y1="1577.6094" y2="1577.6094"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="75" y="1572.7529">27</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="257" x="93" y="1572.7529">"Vaccination schedule created successfully"</text><line style="stroke:#000000;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="10" x2="2864" y1="1611.6094" y2="1611.6094"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="187" x="15" y="1623.0283">[User rejects input schedule data]</text><polygon fill="#181818" points="69,1644.7969,59,1648.7969,69,1652.7969,65,1648.7969" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="63" x2="405" y1="1648.7969" y2="1648.7969"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="75" y="1643.9404">28</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="306" x="93" y="1643.9404">"Please reinput the vaccination schedule information"</text><!--MD5=[7bec886b1416e0cd38a308b2c06723c4]
@startuml
autonumber
hide footbox
skinparam titleFontSize 30
skinparam classFontSize 20
skinparam SequenceReferenceBackgroundColor  white

actor "SNS User" as SNSUSER  #A9DCDF

participant ":VaccinationScheduleUI" as UI #A9DCDF
participant "vaccinationScheduleDTO:\nVaccinationScheduleDTO" as DTO #A9DCDF
participant ":VaccinationScheduleController" as CTRL #A9DCDF
participant "company:Company" as COMP #A9DCDF
participant "vaccineTypeStore:\nVaccineTypeStore" as VTSTORE #A9DCDF
participant "vaccinationCenterStore:\nVaccinationCenterStore" as VCSTORE#A9DCDF
participant "vaccinationScheduleStore:\nVaccinationScheduleStore" as STORE #A9DCDF
participant "vaccinationScheduleMapper:\nVaccinationScheduleMapper" as MAPPER #A9DCDF
participant ":VaccinationSchedule" as USER #A9DCDF
participant ":NotificationHandler" aS SMS #A9DCDF

title SD: Process of scheduling a vaccine by a SNS User

activate SNSUSER
SNSUSER -> UI : starts a new vaccination schedule
activate UI

UI - -> SNSUSER : requests data (date/time,\nvaccineType,vaccinationCenter)
deactivate UI

SNSUSER -> UI : chooses and types requested data
activate UI

UI -> CTRL : vaccineTypes = getAllVaccineTypes()
activate CTRL

CTRL -> COMP : vaccineTypeStore = getVaccineTypeStore()
activate COMP
deactivate COMP

CTRL -> VTSTORE : vaccineTypes = getAllVaccineTypeDTO()
activate VTSTORE
deactivate VTSTORE
deactivate CTRL

UI -> CTRL : snsUser = getSnsUserDTOInSession()
activate CTRL
ref#E6E6FA  over CTRL : US01_SD_GET_SNSUSER_OF_USER_IN_SESSION \n (Controller gets an SnsUser object)
deactivate CTRL


UI -> CTRL : vaccinationCenters = getAllVaccinationCentersByVaccineType(vaccineTypeDTO)
activate CTRL

CTRL -> COMP : vaccinationCenterStore = getVaccinationCenterStore()
activate COMP
deactivate COMP
CTRL -> VCSTORE : vaccinationCenters = getAllVaccinationCentersByVaccineType(VaccineTypeDTO)
activate VCSTORE
deactivate VCSTORE
deactivate CTRL

UI -> DTO **: create
note right of DTO
 <w:#FFAAAA> "vaccinationScheduleDTO has all required data
  (snsUserDTO, date,vaccineTypeDTO,vaccinationCenterDTO)
end note

UI -> CTRL : vaccinationScheduleCanBeAdd = \ncreateVaccinationSchedule(vaccinationScheduleDTO)
activate CTRL

CTRL -> STORE : createVaccinationSchedule(vaccinationScheduleDTO)
activate STORE

STORE -> MAPPER: toModel(snsUserDTO)
activate MAPPER

|||
note over MAPPER
 <w:#FFAAAA>multiple interactions to extract data from DTO</w>
end note
MAPPER- -> USER ** : create(snsUser, date/time,vaccinetype,vaccinationCenter)
deactivate MAPPER
deactivate STORE

CTRL -> STORE : vaccinationSchedule = existsVaccinationSchedule(vaccinationScheduleDTO)
activate STORE
deactivate STORE

CTRL -> STORE : vaccinationScheduleTime = checkIfScheduleDateIsBetweenVaccinationCenterOpeningHours\(vaccinationScheduleDate,vaccinationCenterDTOID)
activate STORE
deactivate STORE
deactivate CTRL

UI - -> SNSUSER : shows all data and requests confirmation
deactivate UI

alt#E6E6FA successful case

SNSUSER -> UI : confirms the data
activate UI

UI -> CTRL : vaccinationScheduleCreatedSuccessfully = addVaccinationSchedule()
activate CTRL

CTRL -> STORE : addedVaccinationScheduleSucessfully = addVaccinationSchedule(vaccinationSchedule)
activate STORE

STORE -> STORE :vaccinationSchedule != null
activate STORE #E6E6FA
deactivate STORE #E6E6FA
STORE -> STORE :!existsVaccinationSchedule(snsNumber,vaccineTypeCode)
activate STORE #E6E6FA
deactivate STORE #E6E6FA
STORE -> STORE :add(vaccinationSchedule)
activate STORE #E6E6FA
deactivate STORE #E6E6FA
deactivate STORE

CTRL -> SMS : sendSMS (phoneNumber,message)
activate SMS

CTRL - -> UI : vaccinationScheduleCreatedSuccessfully
deactivate CTRL

UI - -> SNSUSER #A9DCDF: "Vaccination schedule created successfully"
|||
else User rejects input schedule data

UI- -> SNSUSER: "Please reinput the vaccination schedule information"

end
@enduml

PlantUML version 1.2022.4(Sat Apr 09 14:29:17 BST 2022)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Default Encoding: Cp1252
Language: en
Country: US
--></g></svg>