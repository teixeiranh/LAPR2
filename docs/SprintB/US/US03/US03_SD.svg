<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" height="1114.2px" preserveAspectRatio="none" style="width:1239px;height:1114px;background:#FFFFFF;" version="1.1" viewBox="0 0 1239 1114" width="1239.6px" zoomAndPan="magnify"><defs/><g><rect height="24.8672" style="stroke:#00000000;stroke-width:0.6;fill:none;" width="288.6" x="476.1" y="6"/><text fill="#000000" font-family="sans-serif" font-size="15" font-weight="bold" lengthAdjust="spacing" textLength="282.6" x="479.1" y="24.5713">SD: Process of registering an SNS User</text><rect fill="#A9DCDF" height="1017.8156" style="stroke:#181818;stroke-width:0.6;" width="6" x="34.2" y="87.0328"/><rect fill="#FFFFFF" height="37.8328" style="stroke:#181818;stroke-width:0.6;" width="6" x="219.6" y="100.4438"/><rect fill="#FFFFFF" height="340.275" style="stroke:#181818;stroke-width:0.6;" width="6" x="219.6" y="156.4875"/><rect fill="#FFFFFF" height="550.275" style="stroke:#181818;stroke-width:0.6;" width="6" x="219.6" y="529.9734"/><rect fill="#FFFFFF" height="248.0766" style="stroke:#181818;stroke-width:0.6;" width="6" x="388.8" y="200.2641"/><rect fill="#E6E6FA" height="16.8" style="stroke:#181818;stroke-width:0.6;" width="6" x="391.8" y="277.6969"/><rect fill="#E6E6FA" height="16.8" style="stroke:#181818;stroke-width:0.6;" width="6" x="391.8" y="409.1297"/><rect fill="#FFFFFF" height="556.6641" style="stroke:#181818;stroke-width:0.6;" width="6" x="388.8" y="548.1844"/><rect fill="#E6E6FA" height="16.8" style="stroke:#181818;stroke-width:0.6;" width="6" x="391.8" y="675.2391"/><rect fill="#FFFFFF" height="18" style="stroke:#181818;stroke-width:0.6;" width="6" x="520.8" y="218.475"/><rect fill="#FFFFFF" height="18" style="stroke:#181818;stroke-width:0.6;" width="6" x="520.8" y="331.9078"/><rect fill="#FFFFFF" height="18" style="stroke:#181818;stroke-width:0.6;" width="6" x="581.7" y="368.1188"/><rect fill="#FFFFFF" height="61.7766" style="stroke:#181818;stroke-width:0.6;" width="6" x="581.7" y="714.45"/><rect fill="#FFFFFF" height="127.8328" style="stroke:#181818;stroke-width:0.6;" width="6" x="581.7" y="869.0813"/><rect fill="#E6E6FA" height="16.8" style="stroke:#181818;stroke-width:0.6;" width="6" x="584.7" y="892.0922"/><rect fill="#E6E6FA" height="16.8" style="stroke:#181818;stroke-width:0.6;" width="6" x="584.7" y="936.1031"/><rect fill="#E6E6FA" height="16.8" style="stroke:#181818;stroke-width:0.6;" width="6" x="584.7" y="980.1141"/><rect fill="#FFFFFF" height="92.6438" style="stroke:#181818;stroke-width:0.6;" width="6" x="686.7" y="758.2266"/><rect fill="#FFFFFF" height="18" style="stroke:#181818;stroke-width:0.6;" width="6" x="962.7" y="566.3953"/><rect fill="#FFFFFF" height="39.8109" style="stroke:#181818;stroke-width:0.6;" width="6" x="1040.4" y="254.6859"/><rect fill="#FFFFFF" height="18" style="stroke:#181818;stroke-width:0.6;" width="6" x="1040.4" y="602.6062"/><rect height="627.7078" style="stroke:#000000;stroke-width:0.8999999999999999;fill:none;" width="1229.4" x="6" y="472.3406"/><line style="stroke:#181818;stroke-width:0.3;fill:none;stroke-dasharray:5.0,5.0;" x1="37.2" x2="37.2" y1="81.0328" y2="1110.2484"/><line style="stroke:#181818;stroke-width:0.3;fill:none;stroke-dasharray:5.0,5.0;" x1="222.6" x2="222.6" y1="81.0328" y2="1110.2484"/><line style="stroke:#181818;stroke-width:0.3;fill:none;stroke-dasharray:5.0,5.0;" x1="299.4" x2="299.4" y1="180.0703" y2="1110.2484"/><line style="stroke:#181818;stroke-width:0.3;fill:none;stroke-dasharray:5.0,5.0;" x1="391.8" x2="391.8" y1="81.0328" y2="1110.2484"/><line style="stroke:#181818;stroke-width:0.3;fill:none;stroke-dasharray:5.0,5.0;" x1="523.8" x2="523.8" y1="81.0328" y2="1110.2484"/><line style="stroke:#181818;stroke-width:0.3;fill:none;stroke-dasharray:5.0,5.0;" x1="584.4" x2="584.4" y1="81.0328" y2="1110.2484"/><line style="stroke:#181818;stroke-width:0.3;fill:none;stroke-dasharray:5.0,5.0;" x1="689.4" x2="689.4" y1="738.0328" y2="1110.2484"/><line style="stroke:#181818;stroke-width:0.3;fill:none;stroke-dasharray:5.0,5.0;" x1="894.9" x2="894.9" y1="842.7539" y2="1110.2484"/><line style="stroke:#181818;stroke-width:0.3;fill:none;stroke-dasharray:5.0,5.0;" x1="965.7" x2="965.7" y1="81.0328" y2="1110.2484"/><line style="stroke:#181818;stroke-width:0.3;fill:none;stroke-dasharray:5.0,5.0;" x1="1043.1" x2="1043.1" y1="81.0328" y2="1110.2484"/><text fill="#000000" font-family="sans-serif" font-size="8.4" lengthAdjust="spacing" textLength="46.8" x="12" y="79.1871">Receptionist</text><ellipse cx="37.2" cy="39.5672" fill="#A9DCDF" rx="4.8" ry="4.8" style="stroke:#181818;stroke-width:0.3;"/><path d="M37.2,44.3672 L37.2,60.5672 M29.4,49.1672 L45,49.1672 M37.2,60.5672 L29.4,69.5672 M37.2,60.5672 L45,69.5672 " fill="none" style="stroke:#181818;stroke-width:0.3;"/><rect fill="#E2E2F0" height="18.9656" rx="1.5" ry="1.5" style="stroke:#181818;stroke-width:0.3;" width="81.6" x="181.8" y="61.4672"/><text fill="#000000" font-family="sans-serif" font-size="8.4" lengthAdjust="spacing" textLength="73.2" x="186" y="74.3871">:RegisterSnsUserUI</text><rect fill="#E2E2F0" height="18.9656" rx="1.5" ry="1.5" style="stroke:#181818;stroke-width:0.3;" width="111.6" x="336" y="61.4672"/><text fill="#000000" font-family="sans-serif" font-size="8.4" lengthAdjust="spacing" textLength="103.2" x="340.2" y="74.3871">:RegisterSnsUserController</text><rect fill="#E2E2F0" height="18.9656" rx="1.5" ry="1.5" style="stroke:#181818;stroke-width:0.3;" width="46.8" x="500.4" y="61.4672"/><text fill="#000000" font-family="sans-serif" font-size="8.4" lengthAdjust="spacing" textLength="38.4" x="504.6" y="74.3871">:Company</text><rect fill="#E2E2F0" height="18.9656" rx="1.5" ry="1.5" style="stroke:#181818;stroke-width:0.3;" width="63" x="553.2" y="61.4672"/><text fill="#000000" font-family="sans-serif" font-size="8.4" lengthAdjust="spacing" textLength="54.6" x="557.4" y="74.3871">:SnsUserStore</text><rect fill="#E2E2F0" height="18.9656" rx="1.5" ry="1.5" style="stroke:#181818;stroke-width:0.3;" width="86.4" x="922.5" y="61.4672"/><text fill="#000000" font-family="sans-serif" font-size="8.4" lengthAdjust="spacing" textLength="78" x="926.7" y="74.3871">:PasswordGenerator</text><rect fill="#E2E2F0" height="18.9656" rx="1.5" ry="1.5" style="stroke:#181818;stroke-width:0.3;" width="57" x="1014.9" y="61.4672"/><text fill="#000000" font-family="sans-serif" font-size="8.4" lengthAdjust="spacing" textLength="48.6" x="1019.1" y="74.3871">:AuthFacade</text><rect fill="#A9DCDF" height="1017.8156" style="stroke:#181818;stroke-width:0.6;" width="6" x="34.2" y="87.0328"/><rect fill="#FFFFFF" height="37.8328" style="stroke:#181818;stroke-width:0.6;" width="6" x="219.6" y="100.4438"/><rect fill="#FFFFFF" height="340.275" style="stroke:#181818;stroke-width:0.6;" width="6" x="219.6" y="156.4875"/><rect fill="#FFFFFF" height="550.275" style="stroke:#181818;stroke-width:0.6;" width="6" x="219.6" y="529.9734"/><rect fill="#FFFFFF" height="248.0766" style="stroke:#181818;stroke-width:0.6;" width="6" x="388.8" y="200.2641"/><rect fill="#E6E6FA" height="16.8" style="stroke:#181818;stroke-width:0.6;" width="6" x="391.8" y="277.6969"/><rect fill="#E6E6FA" height="16.8" style="stroke:#181818;stroke-width:0.6;" width="6" x="391.8" y="409.1297"/><rect fill="#FFFFFF" height="556.6641" style="stroke:#181818;stroke-width:0.6;" width="6" x="388.8" y="548.1844"/><rect fill="#E6E6FA" height="16.8" style="stroke:#181818;stroke-width:0.6;" width="6" x="391.8" y="675.2391"/><rect fill="#FFFFFF" height="18" style="stroke:#181818;stroke-width:0.6;" width="6" x="520.8" y="218.475"/><rect fill="#FFFFFF" height="18" style="stroke:#181818;stroke-width:0.6;" width="6" x="520.8" y="331.9078"/><rect fill="#FFFFFF" height="18" style="stroke:#181818;stroke-width:0.6;" width="6" x="581.7" y="368.1188"/><rect fill="#FFFFFF" height="61.7766" style="stroke:#181818;stroke-width:0.6;" width="6" x="581.7" y="714.45"/><rect fill="#FFFFFF" height="127.8328" style="stroke:#181818;stroke-width:0.6;" width="6" x="581.7" y="869.0813"/><rect fill="#E6E6FA" height="16.8" style="stroke:#181818;stroke-width:0.6;" width="6" x="584.7" y="892.0922"/><rect fill="#E6E6FA" height="16.8" style="stroke:#181818;stroke-width:0.6;" width="6" x="584.7" y="936.1031"/><rect fill="#E6E6FA" height="16.8" style="stroke:#181818;stroke-width:0.6;" width="6" x="584.7" y="980.1141"/><rect fill="#FFFFFF" height="92.6438" style="stroke:#181818;stroke-width:0.6;" width="6" x="686.7" y="758.2266"/><rect fill="#FFFFFF" height="18" style="stroke:#181818;stroke-width:0.6;" width="6" x="962.7" y="566.3953"/><rect fill="#FFFFFF" height="39.8109" style="stroke:#181818;stroke-width:0.6;" width="6" x="1040.4" y="254.6859"/><rect fill="#FFFFFF" height="18" style="stroke:#181818;stroke-width:0.6;" width="6" x="1040.4" y="602.6062"/><polygon fill="#181818" points="212.4,98.0438,218.4,100.4438,212.4,102.8438,214.8,100.4438" style="stroke:#181818;stroke-width:0.6;"/><line style="stroke:#181818;stroke-width:0.6;" x1="40.2" x2="216" y1="100.4438" y2="100.4438"/><text fill="#000000" font-family="sans-serif" font-size="7.8" font-weight="bold" lengthAdjust="spacing" textLength="4.2" x="44.4" y="97.5299">1</text><text fill="#000000" font-family="sans-serif" font-size="7.8" lengthAdjust="spacing" textLength="109.2" x="51" y="97.5299">starts new SnsUser registration</text><polygon fill="#181818" points="46.8,135.8766,40.8,138.2766,46.8,140.6766,44.4,138.2766" style="stroke:#181818;stroke-width:0.6;"/><line style="stroke:#181818;stroke-width:0.6;" x1="43.2" x2="222" y1="138.2766" y2="138.2766"/><text fill="#000000" font-family="sans-serif" font-size="7.8" font-weight="bold" lengthAdjust="spacing" textLength="4.2" x="50.4" y="125.5518">2</text><text fill="#000000" font-family="sans-serif" font-size="7.8" lengthAdjust="spacing" textLength="97.2" x="57" y="115.7408">requests data (name, email,</text><text fill="#000000" font-family="sans-serif" font-size="7.8" lengthAdjust="spacing" textLength="106.2" x="59.4" y="125.5518">gender, birthDate, snsNumber,</text><text fill="#000000" font-family="sans-serif" font-size="7.8" lengthAdjust="spacing" textLength="156" x="59.4" y="135.3627">address, phoneNumber, citizenCardNumber))</text><polygon fill="#181818" points="212.4,154.0875,218.4,156.4875,212.4,158.8875,214.8,156.4875" style="stroke:#181818;stroke-width:0.6;"/><line style="stroke:#181818;stroke-width:0.6;" x1="40.2" x2="216" y1="156.4875" y2="156.4875"/><text fill="#000000" font-family="sans-serif" font-size="7.8" font-weight="bold" lengthAdjust="spacing" textLength="4.2" x="44.4" y="153.5736">3</text><text fill="#000000" font-family="sans-serif" font-size="7.8" lengthAdjust="spacing" textLength="73.2" x="51" y="153.5736">types requested data</text><polygon fill="#181818" points="262.2,172.2984,268.2,174.6984,262.2,177.0984,264.6,174.6984" style="stroke:#181818;stroke-width:0.6;"/><line style="stroke:#181818;stroke-width:0.6;" x1="225.6" x2="265.8" y1="174.6984" y2="174.6984"/><text fill="#000000" font-family="sans-serif" font-size="7.8" font-weight="bold" lengthAdjust="spacing" textLength="4.2" x="229.8" y="171.7846">4</text><text fill="#000000" font-family="sans-serif" font-size="7.8" lengthAdjust="spacing" textLength="21.6" x="236.4" y="171.7846">create</text><rect fill="#E2E2F0" height="18.9656" rx="1.5" ry="1.5" style="stroke:#181818;stroke-width:0.3;" width="60.6" x="269.4" y="161.2875"/><text fill="#000000" font-family="sans-serif" font-size="8.4" lengthAdjust="spacing" textLength="52.2" x="273.6" y="174.2074">:SnsUserDTO</text><polygon fill="#181818" points="381.6,197.8641,387.6,200.2641,381.6,202.6641,384,200.2641" style="stroke:#181818;stroke-width:0.6;"/><line style="stroke:#181818;stroke-width:0.6;" x1="225.6" x2="385.2" y1="200.2641" y2="200.2641"/><text fill="#000000" font-family="sans-serif" font-size="7.8" font-weight="bold" lengthAdjust="spacing" textLength="4.2" x="229.8" y="197.3502">5</text><text fill="#000000" font-family="sans-serif" font-size="7.8" lengthAdjust="spacing" textLength="111" x="236.4" y="197.3502">checkIfIsNewUser(snsUserDTO)</text><polygon fill="#181818" points="513.6,216.075,519.6,218.475,513.6,220.875,516,218.475" style="stroke:#181818;stroke-width:0.6;"/><line style="stroke:#181818;stroke-width:0.6;" x1="394.8" x2="517.2" y1="218.475" y2="218.475"/><text fill="#000000" font-family="sans-serif" font-size="7.8" font-weight="bold" lengthAdjust="spacing" textLength="4.2" x="399" y="215.5611">6</text><text fill="#000000" font-family="sans-serif" font-size="7.8" lengthAdjust="spacing" textLength="108" x="405.6" y="215.5611">authFacade = getAuthFacade()</text><polygon fill="#181818" points="1033.2,252.2859,1039.2,254.6859,1033.2,257.0859,1035.6,254.6859" style="stroke:#181818;stroke-width:0.6;"/><line style="stroke:#181818;stroke-width:0.6;" x1="394.8" x2="1036.8" y1="254.6859" y2="254.6859"/><text fill="#000000" font-family="sans-serif" font-size="7.8" font-weight="bold" lengthAdjust="spacing" textLength="4.2" x="399" y="251.7721">7</text><text fill="#000000" font-family="sans-serif" font-size="7.8" lengthAdjust="spacing" textLength="150.6" x="405.6" y="251.7721">userExists = authFacade.existsUser(email)</text><line style="stroke:#181818;stroke-width:0.6;" x1="397.8" x2="423" y1="272.8969" y2="272.8969"/><line style="stroke:#181818;stroke-width:0.6;" x1="423" x2="423" y1="272.8969" y2="280.6969"/><line style="stroke:#181818;stroke-width:0.6;" x1="398.4" x2="423" y1="280.6969" y2="280.6969"/><polygon fill="#181818" points="404.4,278.2969,398.4,280.6969,404.4,283.0969,402,280.6969" style="stroke:#181818;stroke-width:0.6;"/><text fill="#000000" font-family="sans-serif" font-size="7.8" font-weight="bold" lengthAdjust="spacing" textLength="4.2" x="402" y="269.983">8</text><text fill="#000000" font-family="sans-serif" font-size="7.8" lengthAdjust="spacing" textLength="39" x="408.6" y="269.983">!userExists</text><polygon fill="#181818" points="513.6,329.5078,519.6,331.9078,513.6,334.3078,516,331.9078" style="stroke:#181818;stroke-width:0.6;"/><line style="stroke:#181818;stroke-width:0.6;" x1="394.8" x2="517.2" y1="331.9078" y2="331.9078"/><text fill="#000000" font-family="sans-serif" font-size="7.8" font-weight="bold" lengthAdjust="spacing" textLength="4.2" x="399" y="328.9939">9</text><text fill="#000000" font-family="sans-serif" font-size="7.8" lengthAdjust="spacing" textLength="64.2" x="405.6" y="328.9939">getSnsUserStore()</text><polygon fill="#181818" points="574.5,365.7188,580.5,368.1188,574.5,370.5188,576.9,368.1188" style="stroke:#181818;stroke-width:0.6;"/><line style="stroke:#181818;stroke-width:0.6;" x1="394.8" x2="578.1" y1="368.1188" y2="368.1188"/><text fill="#000000" font-family="sans-serif" font-size="7.8" font-weight="bold" lengthAdjust="spacing" textLength="8.4" x="399" y="365.2049">10</text><text fill="#000000" font-family="sans-serif" font-size="7.8" lengthAdjust="spacing" textLength="147" x="409.8" y="365.2049">snsUserOptional = getSnsUserById(email)</text><line style="stroke:#181818;stroke-width:0.6;" x1="397.8" x2="423" y1="404.3297" y2="404.3297"/><line style="stroke:#181818;stroke-width:0.6;" x1="423" x2="423" y1="404.3297" y2="412.1297"/><line style="stroke:#181818;stroke-width:0.6;" x1="398.4" x2="423" y1="412.1297" y2="412.1297"/><polygon fill="#181818" points="404.4,409.7297,398.4,412.1297,404.4,414.5297,402,412.1297" style="stroke:#181818;stroke-width:0.6;"/><text fill="#000000" font-family="sans-serif" font-size="7.8" font-weight="bold" lengthAdjust="spacing" textLength="8.4" x="402" y="401.4158">11</text><text fill="#000000" font-family="sans-serif" font-size="7.8" lengthAdjust="spacing" textLength="99.6" x="412.8" y="401.4158">!snsUserOptional.isPresent()</text><polygon fill="#181818" points="232.2,445.9406,226.2,448.3406,232.2,450.7406,229.8,448.3406" style="stroke:#181818;stroke-width:0.6;"/><line style="stroke:#181818;stroke-width:0.6;stroke-dasharray:2.0,2.0;" x1="228.6" x2="391.2" y1="448.3406" y2="448.3406"/><text fill="#000000" font-family="sans-serif" font-size="7.8" font-weight="bold" lengthAdjust="spacing" textLength="8.4" x="235.8" y="445.4268">12</text><text fill="#000000" font-family="sans-serif" font-size="7.8" lengthAdjust="spacing" textLength="37.2" x="246.6" y="445.4268">isNewUser</text><path d="M6,472.3406 L42.6,472.3406 L42.6,477.3516 L36.6,483.3516 L6,483.3516 L6,472.3406 " fill="#EEEEEE" style="stroke:#000000;stroke-width:0.8999999999999999;"/><rect fill="none" height="627.7078" style="stroke:#000000;stroke-width:0.8999999999999999;" width="1229.4" x="6" y="472.3406"/><text fill="#000000" font-family="sans-serif" font-size="7.8" font-weight="bold" lengthAdjust="spacing" textLength="9.6" x="15" y="481.0377">alt</text><text fill="#000000" font-family="sans-serif" font-size="6.6" font-weight="bold" lengthAdjust="spacing" textLength="58.8" x="51.6" y="480.392">[successful case]</text><polygon fill="#181818" points="46.8,494.3625,40.8,496.7625,46.8,499.1625,44.4,496.7625" style="stroke:#181818;stroke-width:0.6;"/><line style="stroke:#181818;stroke-width:0.6;stroke-dasharray:2.0,2.0;" x1="43.2" x2="222" y1="496.7625" y2="496.7625"/><text fill="#000000" font-family="sans-serif" font-size="7.8" font-weight="bold" lengthAdjust="spacing" textLength="8.4" x="50.4" y="493.8486">13</text><text fill="#000000" font-family="sans-serif" font-size="7.8" lengthAdjust="spacing" textLength="151.2" x="61.2" y="493.8486">shows the data and requests a confirmation</text><polygon fill="#181818" points="212.4,527.5734,218.4,529.9734,212.4,532.3734,214.8,529.9734" style="stroke:#181818;stroke-width:0.6;"/><line style="stroke:#181818;stroke-width:0.6;" x1="40.2" x2="216" y1="529.9734" y2="529.9734"/><text fill="#000000" font-family="sans-serif" font-size="7.8" font-weight="bold" lengthAdjust="spacing" textLength="8.4" x="44.4" y="527.0596">14</text><text fill="#000000" font-family="sans-serif" font-size="7.8" lengthAdjust="spacing" textLength="60" x="55.2" y="527.0596">confirms the data</text><polygon fill="#181818" points="381.6,545.7844,387.6,548.1844,381.6,550.5844,384,548.1844" style="stroke:#181818;stroke-width:0.6;"/><line style="stroke:#181818;stroke-width:0.6;" x1="225.6" x2="385.2" y1="548.1844" y2="548.1844"/><text fill="#000000" font-family="sans-serif" font-size="7.8" font-weight="bold" lengthAdjust="spacing" textLength="8.4" x="229.8" y="545.2705">15</text><text fill="#000000" font-family="sans-serif" font-size="7.8" lengthAdjust="spacing" textLength="105" x="240.6" y="545.2705">registerSnsUser(snsUserDTO)</text><polygon fill="#181818" points="955.5,563.9953,961.5,566.3953,955.5,568.7953,957.9,566.3953" style="stroke:#181818;stroke-width:0.6;"/><line style="stroke:#181818;stroke-width:0.6;" x1="394.8" x2="959.1" y1="566.3953" y2="566.3953"/><text fill="#000000" font-family="sans-serif" font-size="7.8" font-weight="bold" lengthAdjust="spacing" textLength="8.4" x="399" y="563.4814">16</text><text fill="#000000" font-family="sans-serif" font-size="7.8" lengthAdjust="spacing" textLength="111.6" x="409.8" y="563.4814">password = generatePassword()</text><polygon fill="#181818" points="1033.2,600.2063,1039.2,602.6062,1033.2,605.0063,1035.6,602.6062" style="stroke:#181818;stroke-width:0.6;"/><line style="stroke:#181818;stroke-width:0.6;" x1="394.8" x2="1036.8" y1="602.6062" y2="602.6062"/><text fill="#000000" font-family="sans-serif" font-size="7.8" font-weight="bold" lengthAdjust="spacing" textLength="8.4" x="399" y="599.6924">17</text><text fill="#000000" font-family="sans-serif" font-size="7.8" lengthAdjust="spacing" textLength="252" x="409.8" y="599.6924">userAddedSuccessfully= addUserWithRole(name, email, password, role)</text><path d="M1046.4,628.4063 L1046.4,653.6062 L1229.4,653.6062 L1229.4,634.4063 L1223.4,628.4063 L1046.4,628.4063 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.3;"/><path d="M1223.4,628.4063 L1223.4,634.4063 L1229.4,634.4063 L1223.4,628.4063 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.3;"/><text fill="#000000" font-family="sans-serif" font-size="7.8" lengthAdjust="spacing" text-decoration="wavy underline" textLength="170.4" x="1050" y="639.5033">From this logic forward, it is already implemented</text><text fill="#000000" font-family="sans-serif" font-size="7.8" lengthAdjust="spacing" textLength="112.8" x="1050" y="649.3143">and is not part of the present US</text><line style="stroke:#181818;stroke-width:0.6;" x1="397.8" x2="423" y1="670.4391" y2="670.4391"/><line style="stroke:#181818;stroke-width:0.6;" x1="423" x2="423" y1="670.4391" y2="678.2391"/><line style="stroke:#181818;stroke-width:0.6;" x1="398.4" x2="423" y1="678.2391" y2="678.2391"/><polygon fill="#181818" points="404.4,675.8391,398.4,678.2391,404.4,680.6391,402,678.2391" style="stroke:#181818;stroke-width:0.6;"/><text fill="#000000" font-family="sans-serif" font-size="7.8" font-weight="bold" lengthAdjust="spacing" textLength="8.4" x="402" y="667.5252">18</text><text fill="#000000" font-family="sans-serif" font-size="7.8" lengthAdjust="spacing" textLength="81.6" x="412.8" y="667.5252">userAddedSuccessfully</text><polygon fill="#181818" points="574.5,712.05,580.5,714.45,574.5,716.85,576.9,714.45" style="stroke:#181818;stroke-width:0.6;"/><line style="stroke:#181818;stroke-width:0.6;" x1="394.8" x2="578.1" y1="714.45" y2="714.45"/><text fill="#000000" font-family="sans-serif" font-size="7.8" font-weight="bold" lengthAdjust="spacing" textLength="8.4" x="399" y="711.5361">19</text><text fill="#000000" font-family="sans-serif" font-size="7.8" lengthAdjust="spacing" textLength="139.2" x="409.8" y="711.5361">snsUser = createSnsUser(snsUserDTO)</text><polygon fill="#181818" points="646.8,730.2609,652.8,732.6609,646.8,735.0609,649.2,732.6609" style="stroke:#181818;stroke-width:0.6;"/><line style="stroke:#181818;stroke-width:0.6;" x1="587.7" x2="650.4" y1="732.6609" y2="732.6609"/><text fill="#000000" font-family="sans-serif" font-size="7.8" font-weight="bold" lengthAdjust="spacing" textLength="8.4" x="591.9" y="729.7471">20</text><text fill="#000000" font-family="sans-serif" font-size="7.8" lengthAdjust="spacing" textLength="21.6" x="602.7" y="729.7471">create</text><rect fill="#E2E2F0" height="18.9656" rx="1.5" ry="1.5" style="stroke:#181818;stroke-width:0.3;" width="71.4" x="654" y="719.25"/><text fill="#000000" font-family="sans-serif" font-size="8.4" lengthAdjust="spacing" textLength="63" x="658.2" y="732.1699">:SnsUserMapper</text><polygon fill="#181818" points="679.5,755.8266,685.5,758.2266,679.5,760.6266,681.9,758.2266" style="stroke:#181818;stroke-width:0.6;"/><line style="stroke:#181818;stroke-width:0.6;" x1="587.7" x2="683.1" y1="758.2266" y2="758.2266"/><text fill="#000000" font-family="sans-serif" font-size="7.8" font-weight="bold" lengthAdjust="spacing" textLength="8.4" x="591.9" y="755.3127">21</text><text fill="#000000" font-family="sans-serif" font-size="7.8" lengthAdjust="spacing" textLength="76.8" x="602.7" y="755.3127">toModel(snsUserDTO)</text><path d="M604.2,799.0266 L604.2,814.6266 L774.6,814.6266 L774.6,805.0266 L768.6,799.0266 L604.2,799.0266 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.3;"/><path d="M768.6,799.0266 L768.6,805.0266 L774.6,805.0266 L768.6,799.0266 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.3;"/><text fill="#000000" font-family="sans-serif" font-size="7.8" lengthAdjust="spacing" text-decoration="wavy underline" textLength="157.8" x="607.8" y="810.1236">multiple interactions to extract data from DTO</text><polygon fill="#181818" points="866.7,848.4703,872.7,850.8703,866.7,853.2703,869.1,850.8703" style="stroke:#181818;stroke-width:0.6;"/><line style="stroke:#181818;stroke-width:0.6;stroke-dasharray:2.0,2.0;" x1="689.7" x2="870.3" y1="850.8703" y2="850.8703"/><text fill="#000000" font-family="sans-serif" font-size="7.8" font-weight="bold" lengthAdjust="spacing" textLength="8.4" x="693.9" y="838.1455">22</text><text fill="#000000" font-family="sans-serif" font-size="7.8" lengthAdjust="spacing" textLength="69" x="704.7" y="828.3346">create(name, email,</text><text fill="#000000" font-family="sans-serif" font-size="7.8" lengthAdjust="spacing" textLength="106.2" x="707.1" y="838.1455">gender, birthDate, snsNumber,</text><text fill="#000000" font-family="sans-serif" font-size="7.8" lengthAdjust="spacing" textLength="153.6" x="707.1" y="847.9564">address, phoneNumber, citizenCardNumber)</text><rect fill="#E2E2F0" height="18.9656" rx="1.5" ry="1.5" style="stroke:#181818;stroke-width:0.3;" width="42.6" x="873.9" y="830.1047"/><text fill="#000000" font-family="sans-serif" font-size="8.4" lengthAdjust="spacing" textLength="34.2" x="878.1" y="843.0246">:SnsUser</text><polygon fill="#181818" points="574.5,866.6813,580.5,869.0813,574.5,871.4812,576.9,869.0813" style="stroke:#181818;stroke-width:0.6;"/><line style="stroke:#181818;stroke-width:0.6;" x1="394.8" x2="578.1" y1="869.0813" y2="869.0813"/><text fill="#000000" font-family="sans-serif" font-size="7.8" font-weight="bold" lengthAdjust="spacing" textLength="8.4" x="399" y="866.1674">23</text><text fill="#000000" font-family="sans-serif" font-size="7.8" lengthAdjust="spacing" textLength="151.2" x="409.8" y="866.1674">addedSuccessfully = addSnsUser(snsUser)</text><line style="stroke:#181818;stroke-width:0.6;" x1="590.7" x2="615.9" y1="887.2922" y2="887.2922"/><line style="stroke:#181818;stroke-width:0.6;" x1="615.9" x2="615.9" y1="887.2922" y2="895.0922"/><line style="stroke:#181818;stroke-width:0.6;" x1="591.3" x2="615.9" y1="895.0922" y2="895.0922"/><polygon fill="#181818" points="597.3,892.6922,591.3,895.0922,597.3,897.4922,594.9,895.0922" style="stroke:#181818;stroke-width:0.6;"/><text fill="#000000" font-family="sans-serif" font-size="7.8" font-weight="bold" lengthAdjust="spacing" textLength="8.4" x="594.9" y="884.3783">24</text><text fill="#000000" font-family="sans-serif" font-size="7.8" lengthAdjust="spacing" textLength="52.2" x="605.7" y="884.3783">snsUser != null</text><line style="stroke:#181818;stroke-width:0.6;" x1="590.7" x2="615.9" y1="931.3031" y2="931.3031"/><line style="stroke:#181818;stroke-width:0.6;" x1="615.9" x2="615.9" y1="931.3031" y2="939.1031"/><line style="stroke:#181818;stroke-width:0.6;" x1="591.3" x2="615.9" y1="939.1031" y2="939.1031"/><polygon fill="#181818" points="597.3,936.7031,591.3,939.1031,597.3,941.5031,594.9,939.1031" style="stroke:#181818;stroke-width:0.6;"/><text fill="#000000" font-family="sans-serif" font-size="7.8" font-weight="bold" lengthAdjust="spacing" textLength="8.4" x="594.9" y="928.3893">25</text><text fill="#000000" font-family="sans-serif" font-size="7.8" lengthAdjust="spacing" textLength="61.8" x="605.7" y="928.3893">existsSnsUser(id)</text><line style="stroke:#181818;stroke-width:0.6;" x1="590.7" x2="615.9" y1="975.3141" y2="975.3141"/><line style="stroke:#181818;stroke-width:0.6;" x1="615.9" x2="615.9" y1="975.3141" y2="983.1141"/><line style="stroke:#181818;stroke-width:0.6;" x1="591.3" x2="615.9" y1="983.1141" y2="983.1141"/><polygon fill="#181818" points="597.3,980.7141,591.3,983.1141,597.3,985.5141,594.9,983.1141" style="stroke:#181818;stroke-width:0.6;"/><text fill="#000000" font-family="sans-serif" font-size="7.8" font-weight="bold" lengthAdjust="spacing" textLength="8.4" x="594.9" y="972.4002">26</text><text fill="#000000" font-family="sans-serif" font-size="7.8" lengthAdjust="spacing" textLength="46.2" x="605.7" y="972.4002">add(snsUser)</text><polygon fill="#181818" points="232.2,1016.925,226.2,1019.325,232.2,1021.725,229.8,1019.325" style="stroke:#181818;stroke-width:0.6;"/><line style="stroke:#181818;stroke-width:0.6;stroke-dasharray:2.0,2.0;" x1="228.6" x2="388.2" y1="1019.325" y2="1019.325"/><text fill="#000000" font-family="sans-serif" font-size="7.8" font-weight="bold" lengthAdjust="spacing" textLength="8.4" x="235.8" y="1016.4111">27</text><text fill="#000000" font-family="sans-serif" font-size="7.8" lengthAdjust="spacing" textLength="65.4" x="246.6" y="1016.4111">addedSuccessfully</text><polygon fill="#181818" points="46.8,1035.1359,40.8,1037.5359,46.8,1039.9359,44.4,1037.5359" style="stroke:#181818;stroke-width:0.6;"/><line style="stroke:#181818;stroke-width:0.6;stroke-dasharray:2.0,2.0;" x1="43.2" x2="219" y1="1037.5359" y2="1037.5359"/><text fill="#000000" font-family="sans-serif" font-size="7.8" font-weight="bold" lengthAdjust="spacing" textLength="8.4" x="50.4" y="1034.6221">28</text><text fill="#000000" font-family="sans-serif" font-size="7.8" lengthAdjust="spacing" textLength="121.8" x="61.2" y="1034.6221">"SNS user registered successfully"</text><line style="stroke:#000000;stroke-width:0.6;stroke-dasharray:2.0,2.0;" x1="6" x2="1235.4" y1="1057.9359" y2="1057.9359"/><text fill="#000000" font-family="sans-serif" font-size="6.6" font-weight="bold" lengthAdjust="spacing" textLength="68.4" x="9" y="1064.7873">[User already exists]</text><polygon fill="#181818" points="46.8,1077.8484,40.8,1080.2484,46.8,1082.6484,44.4,1080.2484" style="stroke:#181818;stroke-width:0.6;"/><line style="stroke:#181818;stroke-width:0.6;stroke-dasharray:2.0,2.0;" x1="43.2" x2="222" y1="1080.2484" y2="1080.2484"/><text fill="#000000" font-family="sans-serif" font-size="7.8" font-weight="bold" lengthAdjust="spacing" textLength="8.4" x="50.4" y="1077.3346">29</text><text fill="#000000" font-family="sans-serif" font-size="7.8" lengthAdjust="spacing" textLength="123.6" x="61.2" y="1077.3346">"Please reinput the SNS User data"</text><!--MD5=[6bfc221550082f7cc05aaed18d814ecc]
@startuml
autonumber
hide footbox
skinparam titleFontSize 25
skinparam classFontSize 18

actor "Receptionist" as RECEP  #A9DCDF

participant ":RegisterSnsUserUI" as UI
participant ":SnsUserDTO" as DTO
participant ":RegisterSnsUserController" as CTRL
participant ":Company" as COMP
participant ":SnsUserStore" as STORE
participant ":SnsUserMapper" as MAPPER
participant ":SnsUser" as USER
participant ":PasswordGenerator" as PWD
participant ":AuthFacade" as AUTH

title SD: Process of registering an SNS User

activate RECEP  #A9DCDF
RECEP -> UI : starts new SnsUser registration
activate UI
UI -> RECEP : requests data (name, email,\n gender, birthDate, snsNumber,\n address, phoneNumber, citizenCardNumber))
deactivate UI

RECEP -> UI : types requested data
activate UI

UI -> DTO **: create

UI -> CTRL : checkIfIsNewUser(snsUserDTO)
activate CTRL

CTRL -> COMP : authFacade = getAuthFacade()
activate COMP
deactivate COMP

CTRL -> AUTH : userExists = authFacade.existsUser(email)
activate AUTH

CTRL ->CTRL: !userExists
activate CTRL #E6E6FA
deactivate CTRL
|||

deactivate AUTH

CTRL -> COMP : getSnsUserStore()
activate COMP
deactivate COMP

CTRL -> STORE: snsUserOptional = getSnsUserById(email)
activate STORE
deactivate STORE

CTRL-> CTRL:!snsUserOptional.isPresent()
activate CTRL #E6E6FA
deactivate CTRL

CTRL- -> UI: isNewUser
deactivate CTRL
|||
alt successful case

UI- -> RECEP: shows the data and requests a confirmation
deactivate UI
|||
RECEP -> UI : confirms the data
activate UI

UI -> CTRL : registerSnsUser(snsUserDTO)
activate CTRL

CTRL -> PWD : password = generatePassword()
activate PWD
deactivate PWD

CTRL -> AUTH :userAddedSuccessfully= addUserWithRole(name, email, password, role)
activate AUTH
deactivate AUTH

note right of AUTH
 <w:#FFAAAA>From this logic forward, it is already implemented
 and is not part of the present US
end note

CTRL-> CTRL: userAddedSuccessfully
activate CTRL#E6E6FA
deactivate CTRL
CTRL -> STORE : snsUser = createSnsUser(snsUserDTO)
activate STORE

STORE -> MAPPER**: create

STORE -> MAPPER: toModel(snsUserDTO)
activate MAPPER
deactivate STORE
|||
note over MAPPER
 <w:#FFAAAA>multiple interactions to extract data from DTO</w>
end note
MAPPER- -> USER** : create(name, email,\n gender, birthDate, snsNumber,\n address, phoneNumber, citizenCardNumber)
deactivate MAPPER
CTRL -> STORE : addedSuccessfully = addSnsUser(snsUser)
activate STORE
STORE -> STORE : snsUser != null
activate STORE #E6E6FA
deactivate STORE
STORE -> STORE : existsSnsUser(id)
activate STORE #E6E6FA
deactivate STORE
STORE -> STORE : add(snsUser)
activate STORE #E6E6FA
deactivate STORE
deactivate STORE

CTRL- -> UI: addedSuccessfully
UI - -> RECEP #A9DCDF: "SNS user registered successfully"
|||
else User already exists

UI- -> RECEP: "Please reinput the SNS User data"

deactivate UI
|||

end
@enduml

PlantUML version 1.2022.4(Sat Apr 09 14:29:17 BST 2022)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Default Encoding: Cp1252
Language: en
Country: US
--></g></svg>