<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" height="1711px" preserveAspectRatio="none" style="width:3000px;height:1711px;background:#FFFFFF;" version="1.1" viewBox="0 0 3000 1711" width="3000px" zoomAndPan="magnify"><defs/><g><rect height="47.7344" style="stroke:#00000000;stroke-width:1.0;fill:none;" width="746" x="1128" y="10"/><text fill="#000000" font-family="sans-serif" font-size="30" font-weight="bold" lengthAdjust="spacing" textLength="736" x="1133" y="46.1426">SD: Process of scheduling a vaccine by a SNS User</text><rect fill="#FFFFFF" height="1543.8047" style="stroke:#181818;stroke-width:1.0;" width="10" x="48" y="151.3438"/><rect fill="#FFFFFF" height="470.7031" style="stroke:#181818;stroke-width:1.0;" width="10" x="406" y="173.6953"/><rect fill="#FFFFFF" height="475.3438" style="stroke:#181818;stroke-width:1.0;" width="10" x="406" y="674.75"/><rect fill="#FFFFFF" height="371.8125" style="stroke:#181818;stroke-width:1.0;" width="10" x="406" y="1205.7969"/><rect fill="#FFFFFF" height="46.3516" style="stroke:#181818;stroke-width:1.0;" width="10" x="406" y="1648.7969"/><rect fill="#FFFFFF" height="120.7031" style="stroke:#181818;stroke-width:1.0;" width="10" x="1042" y="204.0469"/><rect fill="#FFFFFF" height="30" style="stroke:#181818;stroke-width:1.0;" width="10" x="1042" y="355.1016"/><rect fill="#FFFFFF" height="120.7031" style="stroke:#181818;stroke-width:1.0;" width="10" x="1042" y="476.9922"/><rect fill="#FFFFFF" height="285.3672" style="stroke:#181818;stroke-width:1.0;" width="10" x="1042" y="834.375"/><rect fill="#FFFFFF" height="311.1094" style="stroke:#181818;stroke-width:1.0;" width="10" x="1042" y="1236.1484"/><rect fill="#FFFFFF" height="30" style="stroke:#181818;stroke-width:1.0;" width="10" x="1394" y="234.3984"/><rect fill="#FFFFFF" height="30" style="stroke:#181818;stroke-width:1.0;" width="10" x="1394" y="507.3438"/><rect fill="#FFFFFF" height="30" style="stroke:#181818;stroke-width:1.0;" width="10" x="1537.5" y="294.75"/><rect fill="#FFFFFF" height="30" style="stroke:#181818;stroke-width:1.0;" width="10" x="1696.5" y="567.6953"/><rect fill="#FFFFFF" height="122.0547" style="stroke:#181818;stroke-width:1.0;" width="10" x="1922" y="864.7266"/><rect fill="#FFFFFF" height="30" style="stroke:#181818;stroke-width:1.0;" width="10" x="1922" y="1029.3906"/><rect fill="#FFFFFF" height="30" style="stroke:#181818;stroke-width:1.0;" width="10" x="1922" y="1089.7422"/><rect fill="#FFFFFF" height="213.0547" style="stroke:#181818;stroke-width:1.0;" width="10" x="1922" y="1266.5"/><rect fill="#E6E6FA" height="28" style="stroke:#181818;stroke-width:1.0;" width="10" x="1927" y="1304.8516"/><rect fill="#E6E6FA" height="28" style="stroke:#181818;stroke-width:1.0;" width="10" x="1927" y="1378.2031"/><rect fill="#E6E6FA" height="28" style="stroke:#181818;stroke-width:1.0;" width="10" x="1927" y="1451.5547"/><rect fill="#FFFFFF" height="91.7031" style="stroke:#181818;stroke-width:1.0;" width="10" x="2303" y="895.0781"/><rect fill="#FFFFFF" height="178.2422" style="stroke:#181818;stroke-width:1.0;" width="10" x="2910" y="1516.9063"/><rect height="522.0547" style="stroke:#000000;stroke-width:1.5;fill:none;" width="2983" x="10" y="1165.0938"/><line style="stroke:#181818;stroke-width:0.5;fill:none;stroke-dasharray:5.0,5.0;" x1="53" x2="53" y1="141.3438" y2="1704.1484"/><line style="stroke:#181818;stroke-width:0.5;fill:none;stroke-dasharray:5.0,5.0;" x1="411" x2="411" y1="141.3438" y2="1704.1484"/><line style="stroke:#181818;stroke-width:0.5;fill:none;stroke-dasharray:5.0,5.0;" x1="842" x2="842" y1="722.8594" y2="1704.1484"/><line style="stroke:#181818;stroke-width:0.5;fill:none;stroke-dasharray:5.0,5.0;" x1="1047" x2="1047" y1="141.3438" y2="1704.1484"/><line style="stroke:#181818;stroke-width:0.5;fill:none;stroke-dasharray:5.0,5.0;" x1="1398.5" x2="1398.5" y1="141.3438" y2="1704.1484"/><line style="stroke:#181818;stroke-width:0.5;fill:none;stroke-dasharray:5.0,5.0;" x1="1542.5" x2="1542.5" y1="141.3438" y2="1704.1484"/><line style="stroke:#181818;stroke-width:0.5;fill:none;stroke-dasharray:5.0,5.0;" x1="1701.5" x2="1701.5" y1="141.3438" y2="1704.1484"/><line style="stroke:#181818;stroke-width:0.5;fill:none;stroke-dasharray:5.0,5.0;" x1="1927" x2="1927" y1="141.3438" y2="1704.1484"/><line style="stroke:#181818;stroke-width:0.5;fill:none;stroke-dasharray:5.0,5.0;" x1="2308" x2="2308" y1="141.3438" y2="1704.1484"/><line style="stroke:#181818;stroke-width:0.5;fill:none;stroke-dasharray:5.0,5.0;" x1="2762" x2="2762" y1="995.7344" y2="1704.1484"/><line style="stroke:#181818;stroke-width:0.5;fill:none;stroke-dasharray:5.0,5.0;" x1="2915" x2="2915" y1="141.3438" y2="1704.1484"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="60" x="20" y="138.2676">SNS User</text><ellipse cx="53" cy="72.2344" fill="#A9DCDF" rx="8" ry="8" style="stroke:#181818;stroke-width:0.5;"/><path d="M53,80.2344 L53,107.2344 M40,88.2344 L66,88.2344 M53,107.2344 L40,122.2344 M53,107.2344 L66,122.2344 " fill="none" style="stroke:#181818;stroke-width:0.5;"/><rect fill="#A9DCDF" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="162" x="330" y="108.7344"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="148" x="337" y="130.2676">:VaccinationScheduleUI</text><rect fill="#A9DCDF" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="212" x="941" y="108.7344"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="198" x="948" y="130.2676">:VaccinationScheduleController</text><rect fill="#A9DCDF" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="135" x="1331.5" y="108.7344"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="121" x="1338.5" y="130.2676">company:Company</text><rect fill="#A9DCDF" height="49.2188" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="132" x="1476.5" y="91.125"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="118" x="1483.5" y="112.6582">vaccineTypeStore:</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="116" x="1484.5" y="130.2676">VaccineTypeStore</text><rect fill="#A9DCDF" height="49.2188" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="166" x="1618.5" y="91.125"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="152" x="1625.5" y="112.6582">vaccinationCenterStore:</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="150" x="1626.5" y="130.2676">VaccinationCenterStore</text><rect fill="#A9DCDF" height="49.2188" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="182" x="1836" y="91.125"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="168" x="1843" y="112.6582">vaccinationScheduleStore:</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="166" x="1844" y="130.2676">VaccinationScheduleStore</text><rect fill="#A9DCDF" height="49.2188" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="196" x="2210" y="91.125"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="182" x="2217" y="112.6582">vaccinationScheduleMapper:</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="180" x="2218" y="130.2676">VaccinationScheduleMapper</text><rect fill="#A9DCDF" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="136" x="2847" y="108.7344"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="122" x="2854" y="130.2676">:NotificationHandler</text><rect fill="#FFFFFF" height="1543.8047" style="stroke:#181818;stroke-width:1.0;" width="10" x="48" y="151.3438"/><rect fill="#FFFFFF" height="470.7031" style="stroke:#181818;stroke-width:1.0;" width="10" x="406" y="173.6953"/><rect fill="#FFFFFF" height="475.3438" style="stroke:#181818;stroke-width:1.0;" width="10" x="406" y="674.75"/><rect fill="#FFFFFF" height="371.8125" style="stroke:#181818;stroke-width:1.0;" width="10" x="406" y="1205.7969"/><rect fill="#FFFFFF" height="46.3516" style="stroke:#181818;stroke-width:1.0;" width="10" x="406" y="1648.7969"/><rect fill="#FFFFFF" height="120.7031" style="stroke:#181818;stroke-width:1.0;" width="10" x="1042" y="204.0469"/><rect fill="#FFFFFF" height="30" style="stroke:#181818;stroke-width:1.0;" width="10" x="1042" y="355.1016"/><rect fill="#FFFFFF" height="120.7031" style="stroke:#181818;stroke-width:1.0;" width="10" x="1042" y="476.9922"/><rect fill="#FFFFFF" height="285.3672" style="stroke:#181818;stroke-width:1.0;" width="10" x="1042" y="834.375"/><rect fill="#FFFFFF" height="311.1094" style="stroke:#181818;stroke-width:1.0;" width="10" x="1042" y="1236.1484"/><rect fill="#FFFFFF" height="30" style="stroke:#181818;stroke-width:1.0;" width="10" x="1394" y="234.3984"/><rect fill="#FFFFFF" height="30" style="stroke:#181818;stroke-width:1.0;" width="10" x="1394" y="507.3438"/><rect fill="#FFFFFF" height="30" style="stroke:#181818;stroke-width:1.0;" width="10" x="1537.5" y="294.75"/><rect fill="#FFFFFF" height="30" style="stroke:#181818;stroke-width:1.0;" width="10" x="1696.5" y="567.6953"/><rect fill="#FFFFFF" height="122.0547" style="stroke:#181818;stroke-width:1.0;" width="10" x="1922" y="864.7266"/><rect fill="#FFFFFF" height="30" style="stroke:#181818;stroke-width:1.0;" width="10" x="1922" y="1029.3906"/><rect fill="#FFFFFF" height="30" style="stroke:#181818;stroke-width:1.0;" width="10" x="1922" y="1089.7422"/><rect fill="#FFFFFF" height="213.0547" style="stroke:#181818;stroke-width:1.0;" width="10" x="1922" y="1266.5"/><rect fill="#E6E6FA" height="28" style="stroke:#181818;stroke-width:1.0;" width="10" x="1927" y="1304.8516"/><rect fill="#E6E6FA" height="28" style="stroke:#181818;stroke-width:1.0;" width="10" x="1927" y="1378.2031"/><rect fill="#E6E6FA" height="28" style="stroke:#181818;stroke-width:1.0;" width="10" x="1927" y="1451.5547"/><rect fill="#FFFFFF" height="91.7031" style="stroke:#181818;stroke-width:1.0;" width="10" x="2303" y="895.0781"/><rect fill="#FFFFFF" height="178.2422" style="stroke:#181818;stroke-width:1.0;" width="10" x="2910" y="1516.9063"/><polygon fill="#181818" points="394,169.6953,404,173.6953,394,177.6953,398,173.6953" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="58" x2="400" y1="173.6953" y2="173.6953"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="65" y="168.8389">1</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="195" x="76" y="168.8389">starts a new vaccination schedule</text><polygon fill="#181818" points="1030,200.0469,1040,204.0469,1030,208.0469,1034,204.0469" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="416" x2="1036" y1="204.0469" y2="204.0469"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="423" y="199.1904">2</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="217" x="434" y="199.1904">vaccineTypes = getAllVaccineTypes()</text><polygon fill="#181818" points="1382,230.3984,1392,234.3984,1382,238.3984,1386,234.3984" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="1052" x2="1388" y1="234.3984" y2="234.3984"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="1059" y="229.542">3</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="250" x="1070" y="229.542">vaccineTypeStore = getVaccineTypeStore()</text><polygon fill="#181818" points="1525.5,290.75,1535.5,294.75,1525.5,298.75,1529.5,294.75" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="1052" x2="1531.5" y1="294.75" y2="294.75"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="1059" y="289.8936">4</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="236" x="1070" y="289.8936">vaccineTypes = getAllVaccineTypeDTO()</text><polygon fill="#181818" points="1030,351.1016,1040,355.1016,1030,359.1016,1034,355.1016" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="416" x2="1036" y1="355.1016" y2="355.1016"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="423" y="350.2451">5</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="223" x="434" y="350.2451">snsUser = getSnsUserDTOInSession()</text><rect fill="#FFFFFF" height="56.5391" style="stroke:#000000;stroke-width:1.5;" width="306" x="938" y="393.1016"/><path d="M938,393.1016 L1000,393.1016 L1000,401.1016 L990,411.1016 L938,411.1016 L938,393.1016 " fill="#E6E6FA" style="stroke:#000000;stroke-width:2.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="17" x="951" y="408.5967">ref</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="295" x="942" y="427.5586">US01_SD_GET_SNSUSER_OF_USER_IN_SESSION</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="194" x="995.5" y="442.6523">(Controller gets an SnsUser object)</text><polygon fill="#181818" points="1030,472.9922,1040,476.9922,1030,480.9922,1034,476.9922" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="416" x2="1036" y1="476.9922" y2="476.9922"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="423" y="472.1357">6</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="467" x="434" y="472.1357">vaccinationCenters = getAllVaccinationCentersByVaccineType(vaccineTypeDTO)</text><polygon fill="#181818" points="1382,503.3438,1392,507.3438,1382,511.3438,1386,507.3438" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="1052" x2="1388" y1="507.3438" y2="507.3438"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="1059" y="502.4873">7</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="312" x="1070" y="502.4873">vaccinationCenterStore = getVaccinationCenterStore()</text><polygon fill="#181818" points="1684.5,563.6953,1694.5,567.6953,1684.5,571.6953,1688.5,567.6953" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="1052" x2="1690.5" y1="567.6953" y2="567.6953"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="1059" y="562.8389">8</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="471" x="1070" y="562.8389">vaccinationCenters = getAllVaccinationCentersByVaccineType(VaccineTypeDTO)</text><polygon fill="#181818" points="69,640.3984,59,644.3984,69,648.3984,65,644.3984" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="63" x2="410" y1="644.3984" y2="644.3984"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="75" y="631.3662">9</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="145" x="86" y="623.1904">requests data (date/time,</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="181" x="86" y="639.542">vaccineType,vaccinationCenter)</text><polygon fill="#181818" points="394,670.75,404,674.75,394,678.75,398,674.75" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="58" x2="400" y1="674.75" y2="674.75"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="65" y="669.8936">10</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="200" x="83" y="669.8936">chooses and types requested data</text><polygon fill="#181818" points="741,701.1016,751,705.1016,741,709.1016,745,705.1016" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="416" x2="747" y1="705.1016" y2="705.1016"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="423" y="700.2451">11</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="295" x="441" y="700.2451">create(vaccinationCenters, snsUser, vaccineTypes)</text><rect fill="#A9DCDF" height="49.2188" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="178" x="753" y="682.75"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="164" x="760" y="704.2832">vaccinationScheduleDTO:</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="162" x="761" y="721.8926">VaccinationScheduleDTO</text><path d="M847,747.9688 L847,789.9688 L1220,789.9688 L1220,757.9688 L1210,747.9688 L847,747.9688 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M1210,747.9688 L1210,757.9688 L1220,757.9688 L1210,747.9688 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" text-decoration="wavy underline" textLength="270" x="857" y="766.4639">"vaccinationScheduleDTO has all required data</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="348" x="857" y="782.8154">(snsUserDTO, date,vaccineTypeDTO,vaccinationCenterDTO)</text><polygon fill="#181818" points="1030,830.375,1040,834.375,1030,838.375,1034,834.375" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="416" x2="1036" y1="834.375" y2="834.375"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="423" y="821.3428">12</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="192" x="441" y="813.167">vaccinationScheduleCanBeAdd =</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="310" x="441" y="829.5186">createVaccinationSchedule(vaccinationScheduleDTO)</text><polygon fill="#181818" points="1910,860.7266,1920,864.7266,1910,868.7266,1914,864.7266" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="1052" x2="1916" y1="864.7266" y2="864.7266"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="1059" y="859.8701">13</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="310" x="1077" y="859.8701">createVaccinationSchedule(vaccinationScheduleDTO)</text><polygon fill="#181818" points="2291,891.0781,2301,895.0781,2291,899.0781,2295,895.0781" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="1932" x2="2297" y1="895.0781" y2="895.0781"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="1939" y="890.2217">14</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="128" x="1957" y="890.2217">toModel(snsUserDTO)</text><path d="M2166,933.0781 L2166,959.0781 L2450,959.0781 L2450,943.0781 L2440,933.0781 L2166,933.0781 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M2440,933.0781 L2440,943.0781 L2450,943.0781 L2440,933.0781 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" text-decoration="wavy underline" textLength="263" x="2172" y="951.5732">multiple interactions to extract data from DTO</text><polygon fill="#181818" points="2675,982.7813,2685,986.7813,2675,990.7813,2679,986.7813" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="2308" x2="2681" y1="986.7813" y2="986.7813"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="2315" y="981.9248">15</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="332" x="2333" y="981.9248">create(snsUser, date/time,vaccinetype,vaccinationCenter)</text><rect fill="#A9DCDF" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="150" x="2687" y="964.4297"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="136" x="2694" y="985.9629">:VaccinationSchedule</text><polygon fill="#181818" points="1910,1025.3906,1920,1029.3906,1910,1033.3906,1914,1029.3906" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="1052" x2="1916" y1="1029.3906" y2="1029.3906"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="1059" y="1024.5342">16</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="443" x="1077" y="1024.5342">vaccinationSchedule = existsVaccinationSchedule(vaccinationScheduleDTO)</text><polygon fill="#181818" points="1910,1085.7422,1920,1089.7422,1910,1093.7422,1914,1089.7422" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="1052" x2="1916" y1="1089.7422" y2="1089.7422"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="1059" y="1084.8857">17</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="833" x="1077" y="1084.8857">vaccinationScheduleTime = checkIfScheduleDateIsBetweenVaccinationCenterOpeningHours\(vaccinationScheduleDate,vaccinationCenterDTOID)</text><polygon fill="#181818" points="69,1146.0938,59,1150.0938,69,1154.0938,65,1150.0938" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="63" x2="410" y1="1150.0938" y2="1150.0938"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="75" y="1145.2373">18</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="108" x="93" y="1145.2373">shows all data and</text><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="137" x="205" y="1145.2373">requests confirmation</text><path d="M10,1165.0938 L71,1165.0938 L71,1173.4453 L61,1183.4453 L10,1183.4453 L10,1165.0938 " fill="#E6E6FA" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="522.0547" style="stroke:#000000;stroke-width:1.5;" width="2983" x="10" y="1165.0938"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="16" x="25" y="1179.5889">alt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="98" x="86" y="1178.5127">[successful case]</text><polygon fill="#181818" points="394,1201.7969,404,1205.7969,394,1209.7969,398,1205.7969" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="58" x2="400" y1="1205.7969" y2="1205.7969"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="65" y="1200.9404">19</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="100" x="83" y="1200.9404">confirms the data</text><polygon fill="#181818" points="1030,1232.1484,1040,1236.1484,1030,1240.1484,1034,1236.1484" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="416" x2="1036" y1="1236.1484" y2="1236.1484"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="423" y="1231.292">20</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="404" x="441" y="1231.292">vaccinationScheduleCreatedSuccessfully = addVaccinationSchedule()</text><polygon fill="#181818" points="1910,1262.5,1920,1266.5,1910,1270.5,1914,1266.5" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="1052" x2="1916" y1="1266.5" y2="1266.5"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="1059" y="1261.6436">21</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="509" x="1077" y="1261.6436">addedVaccinationScheduleSucessfully = addVaccinationSchedule(vaccinationSchedule)</text><line style="stroke:#181818;stroke-width:1.0;" x1="1937" x2="1979" y1="1296.8516" y2="1296.8516"/><line style="stroke:#181818;stroke-width:1.0;" x1="1979" x2="1979" y1="1296.8516" y2="1309.8516"/><line style="stroke:#181818;stroke-width:1.0;" x1="1938" x2="1979" y1="1309.8516" y2="1309.8516"/><polygon fill="#181818" points="1948,1305.8516,1938,1309.8516,1948,1313.8516,1944,1309.8516" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="1944" y="1291.9951">22</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="157" x="1962" y="1291.9951">vaccinationSchedule != null</text><line style="stroke:#181818;stroke-width:1.0;" x1="1937" x2="1979" y1="1370.2031" y2="1370.2031"/><line style="stroke:#181818;stroke-width:1.0;" x1="1979" x2="1979" y1="1370.2031" y2="1383.2031"/><line style="stroke:#181818;stroke-width:1.0;" x1="1938" x2="1979" y1="1383.2031" y2="1383.2031"/><polygon fill="#181818" points="1948,1379.2031,1938,1383.2031,1948,1387.2031,1944,1383.2031" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="1944" y="1365.3467">23</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="339" x="1962" y="1365.3467">!existsVaccinationSchedule(snsNumber,vaccineTypeCode)</text><line style="stroke:#181818;stroke-width:1.0;" x1="1937" x2="1979" y1="1443.5547" y2="1443.5547"/><line style="stroke:#181818;stroke-width:1.0;" x1="1979" x2="1979" y1="1443.5547" y2="1456.5547"/><line style="stroke:#181818;stroke-width:1.0;" x1="1938" x2="1979" y1="1456.5547" y2="1456.5547"/><polygon fill="#181818" points="1948,1452.5547,1938,1456.5547,1948,1460.5547,1944,1456.5547" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="1944" y="1438.6982">24</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="147" x="1962" y="1438.6982">add(vaccinationSchedule)</text><polygon fill="#181818" points="2898,1512.9063,2908,1516.9063,2898,1520.9063,2902,1516.9063" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="1052" x2="2904" y1="1516.9063" y2="1516.9063"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="1059" y="1512.0498">25</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="206" x="1077" y="1512.0498">sendSMS (phoneNumber,message)</text><polygon fill="#181818" points="427,1543.2578,417,1547.2578,427,1551.2578,423,1547.2578" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="421" x2="1046" y1="1547.2578" y2="1547.2578"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="433" y="1542.4014">26</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="237" x="451" y="1542.4014">vaccinationScheduleCreatedSuccessfully</text><polygon fill="#181818" points="69,1573.6094,59,1577.6094,69,1581.6094,65,1577.6094" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="63" x2="410" y1="1577.6094" y2="1577.6094"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="75" y="1572.7529">27</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="257" x="93" y="1572.7529">"Vaccination schedule created successfully"</text><line style="stroke:#000000;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="10" x2="2993" y1="1611.6094" y2="1611.6094"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="187" x="15" y="1623.0283">[User rejects input schedule data]</text><polygon fill="#181818" points="394,1644.7969,404,1648.7969,394,1652.7969,398,1648.7969" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="58" x2="400" y1="1648.7969" y2="1648.7969"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="65" y="1643.9404">28</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="90" x="83" y="1643.9404">rejects the data</text><polygon fill="#181818" points="69,1675.1484,59,1679.1484,69,1683.1484,65,1679.1484" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="63" x2="405" y1="1679.1484" y2="1679.1484"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="75" y="1674.292">29</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="306" x="93" y="1674.292">"Please reinput the vaccination schedule information"</text><!--MD5=[12e38bea71844a0b8768612a36c0f2f7]
@startuml
autonumber
hide footbox
skinparam titleFontSize 30
skinparam classFontSize 20
skinparam SequenceReferenceBackgroundColor  white

actor "SNS User" as SNSUSER  #A9DCDF

participant ":VaccinationScheduleUI" as UI #A9DCDF
participant "vaccinationScheduleDTO:\nVaccinationScheduleDTO" as DTO #A9DCDF
participant ":VaccinationScheduleController" as CTRL #A9DCDF
participant "company:Company" as COMP #A9DCDF
participant "vaccineTypeStore:\nVaccineTypeStore" as VTSTORE #A9DCDF
participant "vaccinationCenterStore:\nVaccinationCenterStore" as VCSTORE#A9DCDF
participant "vaccinationScheduleStore:\nVaccinationScheduleStore" as STORE #A9DCDF
participant "vaccinationScheduleMapper:\nVaccinationScheduleMapper" as MAPPER #A9DCDF
participant ":VaccinationSchedule" as USER #A9DCDF
participant ":NotificationHandler" aS SMS #A9DCDF

title SD: Process of scheduling a vaccine by a SNS User

activate SNSUSER
SNSUSER -> UI : starts a new vaccination schedule
activate UI



UI -> CTRL : vaccineTypes = getAllVaccineTypes()
activate CTRL

CTRL -> COMP : vaccineTypeStore = getVaccineTypeStore()
activate COMP
deactivate COMP

CTRL -> VTSTORE : vaccineTypes = getAllVaccineTypeDTO()
activate VTSTORE
deactivate VTSTORE
deactivate CTRL

UI -> CTRL : snsUser = getSnsUserDTOInSession()
activate CTRL
ref#E6E6FA  over CTRL : US01_SD_GET_SNSUSER_OF_USER_IN_SESSION \n (Controller gets an SnsUser object)
deactivate CTRL


UI -> CTRL : vaccinationCenters = getAllVaccinationCentersByVaccineType(vaccineTypeDTO)
activate CTRL

CTRL -> COMP : vaccinationCenterStore = getVaccinationCenterStore()
activate COMP
deactivate COMP
CTRL -> VCSTORE : vaccinationCenters = getAllVaccinationCentersByVaccineType(VaccineTypeDTO)
activate VCSTORE
deactivate VCSTORE
deactivate CTRL

UI - -> SNSUSER : requests data (date/time,\nvaccineType,vaccinationCenter)
deactivate UI

SNSUSER -> UI : chooses and types requested data
activate UI

UI -> DTO **: create(vaccinationCenters, snsUser, vaccineTypes)
note right of DTO
 <w:#FFAAAA> "vaccinationScheduleDTO has all required data
  (snsUserDTO, date,vaccineTypeDTO,vaccinationCenterDTO)
end note


UI -> CTRL : vaccinationScheduleCanBeAdd = \ncreateVaccinationSchedule(vaccinationScheduleDTO)
activate CTRL

CTRL -> STORE : createVaccinationSchedule(vaccinationScheduleDTO)
activate STORE

STORE -> MAPPER: toModel(snsUserDTO)
activate MAPPER

|||
note over MAPPER
 <w:#FFAAAA>multiple interactions to extract data from DTO</w>
end note
MAPPER- -> USER ** : create(snsUser, date/time,vaccinetype,vaccinationCenter)
deactivate MAPPER
deactivate STORE

CTRL -> STORE : vaccinationSchedule = existsVaccinationSchedule(vaccinationScheduleDTO)
activate STORE
deactivate STORE

CTRL -> STORE : vaccinationScheduleTime = checkIfScheduleDateIsBetweenVaccinationCenterOpeningHours\(vaccinationScheduleDate,vaccinationCenterDTOID)
activate STORE
deactivate STORE
deactivate CTRL

UI - -> SNSUSER : shows all data and **requests confirmation**
deactivate UI

alt#E6E6FA successful case

SNSUSER -> UI : confirms the data
activate UI

UI -> CTRL : vaccinationScheduleCreatedSuccessfully = addVaccinationSchedule()
activate CTRL

CTRL -> STORE : addedVaccinationScheduleSucessfully = addVaccinationSchedule(vaccinationSchedule)
activate STORE

STORE -> STORE :vaccinationSchedule != null
activate STORE #E6E6FA
deactivate STORE #E6E6FA
STORE -> STORE :!existsVaccinationSchedule(snsNumber,vaccineTypeCode)
activate STORE #E6E6FA
deactivate STORE #E6E6FA
STORE -> STORE :add(vaccinationSchedule)
activate STORE #E6E6FA
deactivate STORE #E6E6FA
deactivate STORE

CTRL -> SMS : sendSMS (phoneNumber,message)
activate SMS

CTRL - -> UI : vaccinationScheduleCreatedSuccessfully
deactivate CTRL

UI - -> SNSUSER #A9DCDF: "Vaccination schedule created successfully"
deactivate UI
|||
else User rejects input schedule data

SNSUSER -> UI : rejects the data
activate UI

UI- -> SNSUSER: "Please reinput the vaccination schedule information"

end
@enduml

PlantUML version 1.2022.5(Sat Apr 30 11:55:52 BST 2022)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Default Encoding: Cp1252
Language: en
Country: US
--></g></svg>